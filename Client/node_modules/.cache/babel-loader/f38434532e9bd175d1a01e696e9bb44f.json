{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Dan\\\\Documents\\\\Code\\\\React_Projects\\\\online_shop\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dan\\\\Documents\\\\Code\\\\React_Projects\\\\online_shop\\\\Client\\\\src\\\\components\\\\home\\\\home.js\";\nimport React, { useState } from 'react';\nimport './home.css';\nimport Axios from 'axios';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport Header from '../Header.js';\nimport { useNavigate } from \"react-router-dom\";\nexport default function Home() {\n  var navigate = useNavigate();\n  window.id = 1;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      id = _useState2[0],\n      setId = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setUsername = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      total = _useState8[0],\n      setTotal = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loggedin = _useState10[0],\n      setLoggedin = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      usernameReg = _useState12[0],\n      setUsernameReg = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      passwordReg = _useState14[0],\n      setPasswordReg = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      usernameLog = _useState16[0],\n      setUsernameLog = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      passwordLog = _useState18[0],\n      setPasswordLog = _useState18[1];\n\n  var login = function login() {\n    // var self = this;\n    // let usernameLog = document.getElementById(\"loguser\").value;\n    // let password = document.getElementById(\"logpass\").value; \n    console.log(\"asdf\");\n\n    if (usernameLog.length > 0 && passwordLog.length > 0) {\n      Axios.post(\"http://localhost:3001/api/login\", {\n        username: usernameLog,\n        password: passwordLog\n      }).then(function (response) {\n        if (response.data.message) {\n          setLoggedin(\"Incorrect username or password.\");\n        } else {\n          setLoggedin(\"Logged In!\");\n          setId(response.data[0].id);\n          setUsername(response.data[0].username);\n          setPassword(response.data[0].password);\n          setTotal(response.data[0].total);\n          window.id = response.data[0].id;\n          navigate('/store');\n        }\n      });\n    }\n  };\n\n  var register = function register() {\n    // let username = document.getElementById(\"reguser\").value;\n    // let password = document.getElementById(\"regpass\").value; \n    if (usernameLog.length > 0 && passwordLog.length > 0) {\n      Axios.post(\"http://localhost:3001/api/register\", {\n        username: usernameReg,\n        password: passwordReg\n      });\n    } else {\n      setLoggedin(\"Invalid username and password\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"log-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"loginheader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Login to your account\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"loguser\",\n    type: \"text\",\n    title: \"username\",\n    placeholder: \"username\",\n    onChange: function onChange(e) {\n      setUsernameLog(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"logpass\",\n    type: \"text\",\n    title: \"password\",\n    placeholder: \"password\",\n    onChange: function onChange(e) {\n      setPasswordLog(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: login,\n    className: \"btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"loginheader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Register new account\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"reguser\",\n    type: \"text\",\n    title: \"username\",\n    placeholder: \"username\",\n    onChange: function onChange(e) {\n      setUsernameReg(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"regpass\",\n    type: \"text\",\n    title: \"password\",\n    placeholder: \"password\",\n    onChange: function onChange(e) {\n      setPasswordReg(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: register,\n    className: \"btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"logstatus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, loggedin));\n}","map":{"version":3,"names":["React","useState","Axios","BrowserRouter","Router","Switch","Route","Link","Header","useNavigate","Home","navigate","window","id","setId","username","setUsername","password","setPassword","total","setTotal","loggedin","setLoggedin","usernameReg","setUsernameReg","passwordReg","setPasswordReg","usernameLog","setUsernameLog","passwordLog","setPasswordLog","login","console","log","length","post","then","response","data","message","register","e","target","value"],"sources":["C:/Users/Dan/Documents/Code/React_Projects/online_shop/Client/src/components/home/home.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './home.css'\r\nimport Axios from 'axios'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n  } from 'react-router-dom';\r\nimport Header from '../Header.js'\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Home(){\r\n \r\n        let navigate = useNavigate();\r\n        window.id = 1;\r\n\r\n        const [id, setId] = useState(\"\");\r\n        const [username, setUsername] = useState(\"\");\r\n        const [password, setPassword] = useState(\"\");\r\n        const [total, setTotal] = useState(\"\");\r\n        const [loggedin, setLoggedin] = useState(\"\");\r\n\r\n        const [usernameReg, setUsernameReg] = useState(\"\");\r\n        const [passwordReg, setPasswordReg] = useState(\"\");\r\n\r\n        const [usernameLog, setUsernameLog] = useState(\"\");\r\n        const [passwordLog, setPasswordLog] = useState(\"\");\r\n\r\n      const login = () => {\r\n        // var self = this;\r\n        // let usernameLog = document.getElementById(\"loguser\").value;\r\n        // let password = document.getElementById(\"logpass\").value; \r\n        console.log(\"asdf\")\r\n        if(usernameLog.length > 0 && passwordLog.length > 0){\r\n            Axios.post(\"http://localhost:3001/api/login\", {   \r\n                username: usernameLog, \r\n                password: passwordLog,\r\n            }).then(function(response){\r\n                if (response.data.message){\r\n                    setLoggedin(\"Incorrect username or password.\");\r\n                }\r\n                else{\r\n                    setLoggedin(\"Logged In!\");\r\n                    setId(response.data[0].id);\r\n                    setUsername(response.data[0].username);\r\n                    setPassword(response.data[0].password);\r\n                    setTotal(response.data[0].total);\r\n                    window.id = response.data[0].id;\r\n                    navigate('/store');\r\n                }\r\n            })\r\n        }\r\n      }\r\n\r\n     const register = () => {\r\n        // let username = document.getElementById(\"reguser\").value;\r\n        // let password = document.getElementById(\"regpass\").value; \r\n        if(usernameLog.length > 0 && passwordLog.length > 0){\r\n            Axios.post(\"http://localhost:3001/api/register\", {\r\n                username: usernameReg, \r\n                password: passwordReg,\r\n            })\r\n        }\r\n        else{\r\n            setLoggedin(\"Invalid username and password\");\r\n        }\r\n        \r\n    }\r\n\r\n    return(\r\n        <div className=\"log-form\">\r\n            <h2 className=\"loginheader\">Login to your account</h2>\r\n            <div className=\"form\">\r\n                <input id = \"loguser\" type=\"text\" title=\"username\" placeholder=\"username\" onChange={(e) => {\r\n                    setUsernameLog(e.target.value);\r\n                }}/>\r\n                <input id = \"logpass\" type=\"text\" title=\"password\" placeholder=\"password\" onChange={(e) => {\r\n                    setPasswordLog(e.target.value);\r\n                }}/>\r\n                <button onClick={login} className=\"btn\" type=\"submit\">Login</button>\r\n            </div>\r\n            <h2 className=\"loginheader\">Register new account</h2>\r\n            <div className=\"form\">\r\n                <input id = \"reguser\" type=\"text\" title=\"username\" placeholder=\"username\" onChange={(e) => {\r\n                    setUsernameReg(e.target.value);\r\n                }}/>\r\n                <input id = \"regpass\" type=\"text\" title=\"password\" placeholder=\"password\" onChange={(e) => {\r\n                    setPasswordReg(e.target.value);\r\n                }}/>\r\n                <button onClick={register} className=\"btn\" type=\"submit\">Register</button>\r\n            </div>\r\n            <h2 className=\"logstatus\">{loggedin}</h2>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}